---
title: s3
weight: 12
---

# Destination S3

## I. Setup Connection Configuration

1. From Replicant's ```Home``` directory, navigate to the sample S3 connection configuration file
    ```BASH
    vi conf/conn/s3.yaml
    ```

2. Make the necessary changes as follows:
    ```YAML
    type: S3

    access-key: "REPLICANT" #Replace REPLICANT with the access key of AWS user created from IAM management
    secret-key: "Replicant#123" #Replace Replicant#123 with the secret Key of the AWS User (note: make sure the specified user has  AmazonS3FullAccess)

    bucket: "bucket_name" #Replace bucket_name with the name of your S3 bucket
    root: "root_dir" #Replace root_dir with the name of the directory inside the s3 bucket where the CSV files will be stored

    stage:
      type: SHARED_FS
      root-dir: /home/user/stage #Enter the path of the directory where CSV files will be staged before uploading to S3

    max-connections: 50 #If needed, change the maximum number of connections Replicant can open in the target s3 system
    file-format: CSV|JSON #CSV is default
    ```

## II. Setup Applier Configuration

1. Navigate to the sample Snowflake applier configuration file
    ```BASH
    vi conf/dst/s3.yaml        
    ```

2. Make the necessary changes as follows:
    ```YAML
    snapshot:
      threads: 16 #Specify the maximum number of threads Replicant should use for writing to the target
      max-file-size:
      delimiter: `,` #Replace the default , with a character
      quote: `,` #Replace the default , with a character
      escape:   `,` #Replace the default , with a character
      include-header: false #false by default

      #If bulk-load is used, Replicant will use the native bulk-loading capabilities of the target database
      bulk-load:
        enable: true|false #Set to true if you want to enable bulk loading
        type: FILE|PIPE #Specify the type of bulk loading between FILE and PIPE
        serialize: true|false #Set to true if you want the generated files to be applied in serial/parallel fashion

        #For versions 20.09.14.3 and beyond
        native-load-configs: #Specify the user-provided LOAD configuration string which will be appended to the s3 specific LOAD SQL command
    ```
## III. S3 File Format

When data is being loaded into S3, the data is first converted to either a CSV or JSON file. Follow the link below to understand the data format in the converted files.

[S3 File Format]({{< ref "/docs/reference-docs/s3-file-format" >}} "S3 File Format")


**Note**: It is highly recommended that you read the S3 file format page when using S3 as the target system.
